{"version":3,"sources":["rccst_ui_component/organism/ui_grid/ratom_example.cljs"],"mappings":"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","names":["taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","rccst-ui-component.organism.ui-grid.ratom-example/container-id","rccst-ui-component.organism.ui-grid.ratom-example/bar-chart-widget","ui-component.molecule.grid-container/component","reagent.core.atom","ui-component.molecule.composite.chart-remote-data/ui-definition","ui_component.utils.helpers.path__GT_keyword","rccst-ui-component.organism.ui-grid.ratom-example/multi-chart-widget","ui-component.molecule.composite.simple-multi-chart/ui-definition","rccst-ui-component.organism.ui-grid.ratom-example/multi-chart-2-widget","ui-component.molecule.composite.simple-multi-chart-2/ui-definition","rccst-ui-component.organism.ui-grid.ratom-example/coverage-plan-widget","ui-component.molecule.composite.coverage-plan/ui-definition","rccst-ui-component.organism.ui-grid.ratom-example/default-widgets","rccst-ui-component.organism.ui-grid.ratom-example/bar-chart-layout","rccst-ui-component.organism.ui-grid.ratom-example/multi-chart-layout","rccst-ui-component.organism.ui-grid.ratom-example/multi-chart-2-layout","rccst-ui-component.organism.ui-grid.ratom-example/coverage-plan-layout","rccst-ui-component.organism.ui-grid.ratom-example/default-layout","rccst-ui-component.organism.ui-grid.ratom-example/empty-widgets","rccst-ui-component.organism.ui-grid.ratom-example/empty-layout","rccst-ui-component.organism.ui-grid.ratom-example/widgets","rccst-ui-component.organism.ui-grid.ratom-example/layout","rccst-ui-component.organism.ui-grid.ratom-example/grid-reset","widgets","layout","widget-val","layout-val","cljs.core/reset!","rccst-ui-component.organism.ui-grid.ratom-example/toggle-val","s","val","cljs.core/contains?","cljs.core.disj","cljs.core.conj","rccst-ui-component.organism.ui-grid.ratom-example/grid-update","cljs.core/deref","rccst-ui-component.organism.ui-grid.ratom-example/widget-tools","default-widgets","re-com.core/h-box","js/goog.DEBUG","re-com.core/button","rccst-ui-component.organism.ui-grid.ratom-example/example","logged-in?","re_frame.core.subscribe","pub-sub-started?","cljs.core/not","re-frame.core/dispatch","woolybear.ad.demo.src.catalog.utils.demo","and__4251__auto__","woolybear.ad.layout/page","re-com.core/v-box","ui-component.organism.ui-grid/component","re-com.core/alert-box"],"sourcesContent":["(ns rccst-ui-component.organism.ui-grid.ratom-example\n  (:require [ui-component.organism.ui-grid :as grid]\n            [ui-component.molecule.composite.chart-remote-data :as chart-remote-data]\n            [ui-component.molecule.composite.coverage-plan :as coverage-plan]\n            [ui-component.molecule.composite.simple-multi-chart :as simple-multi-chart]\n            [ui-component.molecule.composite.simple-multi-chart-2 :as simple-multi-chart-2]\n            [ui-component.molecule.grid-container :as grid-container]\n            [ui-component.utils.helpers :as h]\n            [re-com.core :as rc]\n            [re-frame.core :as re-frame]\n            [reagent.core :as r]\n            [taoensso.timbre :as log]\n            [woolybear.ad.demo.src.catalog.utils :as acu]\n            [woolybear.ad.layout :as layout]))\n\n\n(log/info \"rccst-ui-component.organism.ui-grid.ratom-example\")\n\n\n(def container-id \"ui-grid-ratom-demo\")\n\n(def bar-chart-widget [\"bar-chart\" \"Bar Chart\"\n                       [grid-container/component\n                        :data (r/atom chart-remote-data/ui-definition)\n                        :component-id (h/path->keyword container-id \"bar-chart\")\n                        :resizable true]\n                       :green :white])\n(def multi-chart-widget [\"multi-chart\" \"Multi-Chart\"\n                         [grid-container/component\n                          :data (r/atom simple-multi-chart/ui-definition)\n                          :component-id (h/path->keyword container-id \"multi-chart\")\n                          :resizable true]\n                         :blue :white])\n(def multi-chart-2-widget [\"multi-chart-2\" \"Multi-Chart-2\"\n                           [grid-container/component\n                            :data (r/atom simple-multi-chart-2/ui-definition)\n                            :component-id (h/path->keyword container-id \"multi-chart-2\")\n                            :resizable true]\n                           :rebeccapurple :white])\n(def coverage-plan-widget [\"coverage-plan\" \"Coverage Plan\"\n                           [grid-container/component\n                            :data (r/atom coverage-plan/ui-definition)\n                            :component-id (h/path->keyword container-id \"coverage-plan\")\n                            :resizable true]\n                           :yellow :black])\n(def default-widgets #{bar-chart-widget})\n\n(def bar-chart-layout {:i \"bar-chart\" :x 0 :y 0 :w 8 :h 15})\n(def multi-chart-layout {:i \"multi-chart\" :x 0 :y 10 :w 8 :h 15})\n(def multi-chart-2-layout {:i \"multi-chart-2\" :x 8 :y 21 :w 12 :h 15})\n(def coverage-plan-layout {:i \"coverage-plan\" :x 8 :y 0 :w 12 :h 21})\n(def default-layout #{bar-chart-layout})\n\n\n(def empty-widgets #{})\n(def empty-layout  #{})\n\n\n(def widgets (r/atom default-widgets))\n(def layout (r/atom default-layout))\n\n\n(defn- grid-reset [widgets layout widget-val layout-val]\n  (reset! widgets widget-val)\n  (reset! layout layout-val))\n\n\n(defn- toggle-val [s val]\n  (if (contains? s val)\n    (disj s val)\n    (conj s val)))\n\n\n(defn- grid-update [widgets layout widget-val layout-val]\n  (reset! widgets (toggle-val @widgets widget-val))\n  (reset! layout (toggle-val @layout layout-val)))\n\n\n(defn- widget-tools [widgets layout default-widgets]\n  [rc/h-box :src (rc/at)\n   :gap \"10px\"\n   :style {:border     \"1px solid\" :border-radius \"3px\"\n           :box-shadow \"5px 5px 5px 2px\"\n           :margin     \"5px\" :padding \"5px\"}\n   :children [[:label.h5 \"Widgets:\"]\n              [rc/button :on-click #(grid-reset widgets layout empty-widgets empty-layout)\n               :label \"Empty\"]\n              [rc/button :on-click #(grid-reset widgets layout default-widgets default-layout)\n               :label \"Default\"]\n              [rc/button :on-click #(grid-update widgets layout bar-chart-widget bar-chart-layout)\n               :label \"! Bar Chart\"]\n              [rc/button :on-click #(grid-update widgets layout multi-chart-widget multi-chart-layout)\n               :label \"! Multi Chart\"]\n              [rc/button :on-click #(grid-update widgets layout multi-chart-2-widget multi-chart-2-layout)\n               :label \"! Multi Chart 2\"]\n              [rc/button :on-click #(grid-update widgets layout coverage-plan-widget coverage-plan-layout)\n               :label \"! Coverage Plan\"]]])\n\n\n(defn example []\n  (let [logged-in?       (re-frame/subscribe [:subs/logged-in?])\n        pub-sub-started? (re-frame/subscribe [:bhui.subs/pub-sub-started?])]\n\n    (if (not @logged-in?)\n      (re-frame/dispatch [:events/login \"test-user\" \"test-pwd\"]))\n\n    (fn []\n      (acu/demo \"Widget Grid (ratom-based)\"\n        \"A grid of widget, which are composed of UI Components using a data structure that defines a directed graph.\"\n\n        (if (and @logged-in? @pub-sub-started?)\n          [layout/page {:extra-classes :is-fluid}\n\n           [rc/v-box :src (rc/at)\n            :gap \"5px\"\n            :children [[grid/component\n                        :widgets widgets\n                        :layout layout\n                        :container-id container-id]\n                       [widget-tools widgets layout default-widgets default-layout]]]]\n\n\n          [rc/alert-box :src (rc/at)\n           :alert-type :info\n           :heading \"Waiting for (demo) Log-in\"])\n        '[grid/component\n          :widgets widgets\n          :layout layout\n          :container-id container-id]))))\n"]}