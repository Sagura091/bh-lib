{"version":3,"sources":["ui_component/atom/diagram/flow.cljs"],"mappings":"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","names":["ui-component.atom.diagram.flow/diagram-cell","x","y","ui-component.atom.diagram.flow/sample-data","reagent.core.atom","ui-component.atom.chart.colored-pie-chart/component","ui-component.atom.chart.area-chart/component","ui-component.atom.chart.bar-chart/component","ui-component.atom.chart.line-chart/component","ui-component.atom.diagram.flow/data-sources","ui-component.atom.chart.area-chart/sample-data","ui-component.atom.chart.bar-chart/sample-data","ui-component.atom.chart.line-chart/sample-data","ui-component.atom.chart.colored-pie-chart/sample-data","ui-component.atom.diagram.flow/source-code","ui-component.atom.diagram.flow/default-background","ui-component.atom.diagram.flow/default-color","ui-component.atom.diagram.flow/card-style","ui-component.atom.diagram.flow/handle-style","ui-component.atom.diagram.flow/image-style","ui-component.atom.diagram.flow/label-style","ui-component.atom.diagram.flow/node-style-globe","ui-component.atom.diagram.flow/node-style-square","ui-component.atom.diagram.flow/keywordize","m","k","cljs.core/keys","v","cljs.core/vals","cljs.core/zipmap","cljs.core.map","cljs.core/keyword","var_args","args__4870__auto__","len__4864__auto__","i__4865__auto__","argseq__4871__auto__","cljs.core/IndexedSeq","ui-component.atom.diagram.flow/platform-node","p__59044","map__59045","cljs.core/--destructure-map","cljs.core.get","seq59042","G__59043","cljs.core/first","cljs.core/next","self__4851__auto__","props","data","label","image","chart","ui","ui-component.atom.card.flippable-card/card","cljs.core.merge","ui_component.utils.path__GT_keyword","ui-component.atom.diagram.flow/node","type","sources","d","cljs.core.js__GT_clj","cljs.core.get_in","id","source","reagent.core.as_element","js/shadow.js.shim.module$react_flow_renderer.Handle","ui-component.atom.diagram.flow/sample-node-types","cljs.core.partial","ui-component.atom.diagram.flow/component","p__59047","map__59048","seq59046","self__4852__auto__","cljs.core/seq","node-types","edge-types","connectFn","zoom-on-scroll","preventScrolling","component-id","container-id","js/shadow.js.shim.module$react_flow_renderer.ReactFlowProvider","js/shadow.js.shim.module$react_flow_renderer.default","cljs.core/deref","or__4253__auto__","js/shadow.js.shim.module$react_flow_renderer.MiniMap","js/shadow.js.shim.module$react_flow_renderer.Controls"],"sourcesContent":["(ns ui-component.atom.diagram.flow\n  (:require [ui-component.atom.card.flippable-card :as card]\n            [ui-component.atom.chart.area-chart :as area-chart]\n            [ui-component.atom.chart.bar-chart :as bar-chart]\n            [ui-component.atom.chart.colored-pie-chart :as colored-pie-chart]\n            [ui-component.atom.chart.pie-chart :as pie-chart]\n            [ui-component.atom.chart.line-chart :as line-chart]\n            [ui-component.utils :as ui-utils]\n            [reagent.core :as r]\n            [\"react-flow-renderer\" :refer (ReactFlowProvider MiniMap Controls Handle) :default ReactFlow]))\n\n\n(defn diagram-cell [x y]\n  {:x (+ 10 (* x 200)) :y (+ 10 (* y 200))})\n\n\n(def sample-data\n  (r/atom {:nodes [{:id        \"viirs-5\"\n                    :el-type   :node\n                    :type      \"globe\"\n                    :data      {:label \"viirs-5\"\n                                :chart colored-pie-chart/component\n                                :ui    {:legend false :tooltip false :label false}}\n                    :draggable false\n                    :position  (diagram-cell 0 1)}\n\n                   {:id        \"abi-meso-11\"\n                    :el-type   :node\n                    :type      \"globe\"\n                    :data      {:label \"abi-meso-11\"\n                                :chart colored-pie-chart/component\n                                :ui    {:legend false :tooltip false :label false}}\n                    :draggable false\n                    :position  (diagram-cell 0 0)}\n\n                   {:id        \"goes-east\"\n                    :el-type   :node\n                    :type      \"platform\"\n                    :data      {:label \"GOES East\"\n                                :image \"/images/icons/Weather-Satellite-PNG-Clipart.png\"\n                                :chart area-chart/component\n                                :ui    {:x-axis false :y-axis false\n                                        :legend false :tooltip false}}\n                    :draggable false\n                    :position  (diagram-cell 1 0)}\n\n                   {:id        \"central\"\n                    :el-type   :node\n                    :type      \"downlink-terminal\"\n                    :data      {:label \"Wallops\"\n                                :image \"/images/icons/downlink-terminal.png\"\n                                :chart bar-chart/component\n                                :ui    {:grid   false :x-axis false :y-axis false\n                                        :legend false :tooltip false}}\n                    :draggable false\n                    :position  (diagram-cell 2 0)}\n\n                   {:id        \"washington\"\n                    :el-type   :node\n                    :type      \"processing-center\"\n                    :data      {:label \"NSOF Suitland\"\n                                :image \"/images/icons/processing-center.png\"\n                                :chart line-chart/component\n                                :ui    {:grid   false :x-axis false :y-axis false\n                                        :legend false :tooltip false}}\n                    :draggable false\n                    :position  (diagram-cell 3 0)}\n\n                   {:id        \"noaa-xx\"\n                    :el-type   :node\n                    :type      \"platform\"\n                    :data      {:label \"NOAA XX\"\n                                :image \"/images/icons/Weather-Satellite-PNG-Clipart.png\"\n                                :chart area-chart/component\n                                :ui    {:x-axis false :y-axis false\n                                        :legend false :tooltip false}}\n                    :draggable false\n                    :position  (diagram-cell 1 1)}\n\n                   {:id        \"mountain\"\n                    :el-type   :node\n                    :type      \"downlink-terminal\"\n                    :data      {:label \"Svalbaard/McMurdo\"\n                                :image \"/images/icons/downlink-terminal.png\"\n                                :chart bar-chart/component\n                                :ui    {:grid   false :x-axis false :y-axis false\n                                        :legend false :tooltip false}}\n                    :draggable false\n                    :position  (diagram-cell 2 1)}]\n\n           :edges [{:id    \"11-n\" :el-type :edge :source \"abi-meso-11\" :target \"goes-east\"\n                    :style {:strokeWidth 20 :stroke :gray} :animated true}\n                   {:id    \"v5-n\" :el-type :edge :source \"viirs-5\" :target \"noaa-xx\"\n                    :style {:strokeWidth 20 :stroke :gray} :animated true}\n                   {:id    \"e-c\" :el-type :edge :source \"goes-east\" :target \"central\"\n                    :style {:strokeWidth 50 :stroke :orange} :animated true}\n                   {:id    \"c-w\" :el-type :edge :source \"central\" :target \"washington\"\n                    :style {:strokeWidth 25 :stroke \"#f00\"} :animated true}\n                   {:id    \"n-m\" :el-type :edge :source \"noaa-xx\" :target \"mountain\"\n                    :style {:strokeWidth 30 :stroke :lightgreen} :animated true}\n                   {:id    \"m-w\" :el-type :edge :source \"mountain\" :target \"washington\"\n                    :style {:strokeWidth 5} :animated true}]}))\n\n\n(def data-sources {\"GOES East\"         area-chart/sample-data\n                   \"NOAA XX\"           area-chart/sample-data\n                   \"Wallops\"           bar-chart/sample-data\n                   \"Svalbaard/McMurdo\" bar-chart/sample-data\n                   \"NSOF Suitland\"     line-chart/sample-data\n                   \"viirs-5\"           colored-pie-chart/sample-data\n                   \"abi-meso-11\"       colored-pie-chart/sample-data})\n\n\n(def source-code '[:> ReactFlowProvider\n                   [:> ReactFlow {:className        component-id\n                                  :nodes            (:nodes @data)\n                                  :edges            (:edges @data)\n                                  :nodeTypes        {}\n                                  :edgeTypes        {}\n                                  :zoomOnScroll     false\n                                  :preventScrolling false\n                                  :onConnect        #()}\n                    [:> MiniMap]\n                    [:> Controls]]])\n\n\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;\n; STYLES\n;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n;; region\n(def default-background \"#dcdcdc\")\n(def default-color \"#FF\")\n(def card-style {:width \"100px\" :height \"150px\"})\n(def handle-style {:width \"8px\" :height \"8px\" :borderRadius \"50%\"})\n(def image-style {:width        \"75px\" :height \"75px\"\n                  :display      :block\n                  :margin-left  :auto\n                  :margin-right :auto})\n(def label-style {:margin-top \"10px\" :margin-bottom \"5px\"\n                  :text-align :center})\n(def node-style-globe {:width         \"100px\" :height \"100px\"\n                       :border-radius \"50%\"\n                       :overflow      \"hidden\"})\n(def node-style-square {:width           \"100px\" :height \"150px\"\n                        :overflow        \"hidden\"\n                        :background      default-background\n                        :color           default-color\n                        :display         :flex\n                        :flex-direction  :column\n                        :justify-content :center\n                        :align-items     :center})\n;; endregion\n\n(defn- keywordize\n  \"convert all keys and values into keywords\"\n  [m]\n  (let [k (keys m)\n        v (vals m)]\n    (zipmap (map keyword k) (map keyword v))))\n\n\n(defn- platform-node [props & {:keys [data label image chart ui]}]\n  [card/card\n   :style card-style\n   :front [:div#entity-card {:style (merge node-style-square props)}\n           [:img {:style (merge image-style\n                           {:background-color default-background}\n                           props)\n                  :src   image}]\n           [:div.subtitle.is-3 {:style label-style} label]]\n   :back [:div {:style (merge node-style-square props)}\n          [chart\n           :data data\n           :component-id (ui-utils/path->keyword \"diagram\" label \"chart\")\n           :container-id (ui-utils/path->keyword \"diagram\" label)\n           :ui (keywordize ui)]]])\n\n\n(defn- node [type sources d]\n  (let [data   (js->clj d)\n        label  (get-in data [\"data\" \"label\"])\n        image  (get-in data [\"data\" \"image\"])\n        chart  (get-in data [\"data\" \"chart\"])\n        ui     (get-in data [\"data\" \"ui\"])\n        id     (get data \"id\")\n        source (get sources label)]\n\n    ;(log/info \"node\" id label (if source @source {}))\n\n    (r/as-element\n      [:div#node-card {:style (merge card-style {:margin 0})}\n       [type {:margin 0}\n        :data source\n        :label label\n        :image image\n        :chart chart\n        :ui ui]\n       [:> Handle {:id    (str id \"-out\") :type \"source\" :position \"right\"\n                   :style handle-style}]\n       [:> Handle {:id    (str id \"-in\") :type \"target\" :position \"left\"\n                   :style handle-style}]])))\n\n\n(def sample-node-types {\"globe\"             (partial node platform-node data-sources)\n                        \"platform\"          (partial node platform-node data-sources)\n                        \"downlink-terminal\" (partial node platform-node data-sources)\n                        \"processing-center\" (partial node platform-node data-sources)})\n\n\n(defn component [& {:keys [data node-types edge-types connectFn\n                           zoom-on-scroll preventScrolling\n                           component-id container-id]}]\n  [:> ReactFlowProvider\n   [:> ReactFlow {:className        component-id\n                  :nodes            (:nodes @data)\n                  :edges            (:edges @data)\n                  :nodeTypes        (or node-types sample-node-types)\n                  :edgeTypes        (or edge-types {})\n                  :zoomOnScroll     (or zoom-on-scroll false)\n                  :preventScrolling (or preventScrolling false)\n                  :onConnect        (or connectFn #())\n                  :fitView          true}\n    [:> MiniMap]\n    [:> Controls]]])\n\n"]}