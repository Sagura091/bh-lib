{"version":3,"sources":["woolybear/tools/interceptors.cljs"],"mappings":";AASA;;;;AAAKA,+CAGH,AAACC,oBACC,WAAKC,GAAGC;AAAR,AACE,GAAM,OAAA,NAAMD;AAAZ,AACE,MAAO,gDAAA,gCAAA,2CAAA,3HAACE,iLAAgDD;;AAD1D","names":["woolybear.tools.interceptors/throw-on-nil-db","re-frame.core/after","db","event","cljs.core.ex_info"],"sourcesContent":["(ns woolybear.tools.interceptors\n  \"\n  Define the interceptors to use with reg-event-db and reg-event-fx so that we can have\n  consistent and safe event handlers.\n  \"\n  (:require [re-frame.core :as re-frame]))\n\n;; SEE ALSO https://github.com/Day8/re-frame/blob/master/docs/FAQs/GlobalInterceptors.md\n\n(def throw-on-nil-db\n  \"Throws an exception if the handler returns nil as the value of the db. Catches a\n  not-uncommon bug that produces some weird symptoms when undetected.\"\n  (re-frame/after\n    (fn [db event]\n      (when (nil? db)\n        (throw (ex-info \"Function handler returned nil\" {:event event}))))))\n\n"]}