{"version":3,"sources":["ui_component/molecule/two_d_three_d_globe.cljs"],"mappings":"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","names":["ui-component.molecule.two-d-three-d-globe/sample-data","reagent.core.atom","ui-component.molecule.two-d-three-d-globe/source-code","ui-component.molecule.two-d-three-d-globe/local-config","data","ui-component.molecule.two-d-three-d-globe/config","component-id","cljs.core.merge","ui-component.utils/default-pub-sub","ui-component.molecule.two-d-three-d-globe/three-d-view","container-id","ui-component.molecule.two-d-three-d-globe/two-d-view","ui-component.molecule.two-d-three-d-globe/component-panel","subscriptions","ui-component.utils/build-subs","cljs.core._EQ_","ui-component.utils/resolve-sub","ui-component.utils/dispatch-local","pred__59826","expr__59827","js/Error","cljs.core/=","pred__59829","expr__59830","var_args","args__4870__auto__","len__4864__auto__","i__4865__auto__","argseq__4871__auto__","cljs.core/IndexedSeq","ui-component.molecule.two-d-three-d-globe/component","p__59833","map__59834","cljs.core/--destructure-map","cljs.core.get","seq59832","self__4852__auto__","cljs.core/seq","id","cljs.core/deref","cljs.core/reset!","ui-component.utils/init-container-locals"],"sourcesContent":["(ns ui-component.molecule.two-d-three-d-globe\n  (:require [ui-component.utils :as ui-utils]\n            [re-com.core :as rc]\n            [reagent.core :as r]\n            [taoensso.timbre :as log]))\n\n\n(def sample-data\n  (r/atom {}))\n\n\n(def source-code '[:div \"2D/3D GLobe\"])\n\n\n(defn local-config [data]\n  {:two-d-three-d :2d})\n\n\n(defn config [component-id data]\n  (merge ui-utils/default-pub-sub\n    (local-config data)))\n\n\n(defn- three-d-view [data component-id container-id]\n  [:div \"3D view\"])\n\n\n(defn- two-d-view [data component-id container-id]\n  [:div \"2D view\"])\n\n\n(defn- component-panel [data component-id container-id]\n\n  (let [subscriptions (ui-utils/build-subs component-id (local-config data))]\n\n    (fn [data component-id container-id]\n      [:div\n       ;which view do you want? :2d? :3d?\n       [:button.button.is-info.is-outlined {:style    {:float :right}\n                                            :on-click #(if (= :2d (ui-utils/resolve-sub subscriptions [:two-d-three-d]))\n                                                         (ui-utils/dispatch-local component-id [:two-d-three-d] :3d)\n                                                         (ui-utils/dispatch-local component-id [:two-d-three-d] :2d))}\n        (condp = (ui-utils/resolve-sub subscriptions [:two-d-three-d])\n          :2d \"to 3d\"\n          :3d \"to 2d\")]\n\n       (condp = (ui-utils/resolve-sub subscriptions [:two-d-three-d])\n         :3d [three-d-view data component-id container-id]\n         :2d [two-d-view data component-id container-id])])))\n\n\n(defn component\n  ([& {:keys [data component-id container-id]}]\n\n   ;(log/info \"two-2-three-3-globe\" @data)\n\n   (let [id (r/atom nil)]\n\n     (fn []\n       (when (nil? @id)\n         (reset! id component-id)\n         (ui-utils/init-container-locals @id (config @id data))\n         (ui-utils/dispatch-local @id [:container] container-id))\n\n       ;(log/info \"component\" @id)\n\n       [component-panel data @id container-id]))))\n\n\n(comment\n  (do (def component-id \"2d-3d-globe\")\n      (def data sample-data)\n      (def id (r/atom component-id))\n      (def container-id \"2d-3d-globe-demo/globe\"))\n\n  (def s (ui-utils/build-subs component-id (local-config data)))\n  (def two-d<->three-d (ui-utils/resolve-sub s [:two-d-three-d]))\n\n  ())\n"]}