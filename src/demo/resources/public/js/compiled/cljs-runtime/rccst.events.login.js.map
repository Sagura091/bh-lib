{"version":3,"sources":["rccst/events/login.cljs"],"mappings":";AAUA,AAAAA,0DAAAC,mCAAA,qDAAA,qBAAA,KAAA,GAAA,8CAAA,qDAAA,KAAAC,gBAAA;AAAA,AAAA,0FAAA;GAAA,OAAA,KAAA,YAAA;AAGA,yDAAA,zDAACC,4IAEC,EAAA,AAAAC,iDAAA,aAAAC,FAAYW;AAAZ,AAAA,IAAAV,aAAAD;YAAA,AAAAE,4CAAAD,WAAA,IAAA,nEAAeU;SAAf,AAAAT,4CAAAD,WAAA,IAAA,hEAAiBW;eAAjB,AAAAV,4CAAAD,WAAA,IAAA,tEAAoBY;AAApB,AAAA,IAAAV,6BAAA;AAAA,AAAA,IAAA,AAAA,AAAAC,gDAAA,AAAA;;AAAA,IAAAC,wBAAA,2CAAA,iEAAA,iBAAAA,wBAAA,uGAAA,iBAAAA,xHACgBS,gJAAMC;AADtB,AAAA,AAAAT,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,6EAAA,qEAAA;;AAAAA;KAAA,iBAAAA,wBAAA,2CAAA,uDAAA,oDAAA,mDAAA,iBAAA,wDAAA,iBAAAA,wBAAA,2CAAA,2DAAA,iBAAAA,wBAIwCO;AAJxC,AAAA,AAAAN,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,oDAAA,qEAAA;;AAAAA;KAAA,4DAAA,iBAAAA,wBAIqDQ;AAJrD,AAAA,AAAAP,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,iEAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,+RAAA,qEAAA;;AAAAA;KAAA,gEAAA,iBAAAA,wBAAA,mFAAA,oHAAA;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,4NAAA,qEAAA;;AAAAA;KAAA,iEAAA,iBAAAA,wBAAA,mFAAA;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,8LAAA,qEAAA;;AAAAA;KAAA,gEAAA,iBAAAA,wBAAA,mFAAA;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,8MAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,k2CAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,0/CAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,8mDAAA,qEAAA;;AAAAA;gBAAA,IAAAE,IAAAC;AAAA,AAAA,MAAAD;IAAA,aAAAE,FAAYE;AAAZ,AAAA,IAAAD,aAAAD;YAAA,AAAAP,4CAAAQ,WAAA,IAAA,nEAAeC;SAAf,AAAAT,4CAAAQ,WAAA,IAAA,hEAAiBE;eAAjB,AAAAV,4CAAAQ,WAAA,IAAA,tEAAoBG;AAApB,AAAA,kDAAA,iEACe,6HAAA,2CAAA,uDAAA,oDAAA,mDAAA,iBAAA,wDAAA,2CAAA,8DAAA,6EAAA,gEAAA,mFAAA,oHAAA,qBAAA,iEAAA,mFAAA,2GAAA,gEAAA,mFAAA,nvCAACC,uGAAMC,8YAGkBH,+DAAaC;;AAMvD,yDAAA,zDAACG,4JAEC,EAAA,AAAAjB,iDAAA,cAAAkB,HAAYS;AAAZ,AAAA,IAAAR,aAAAD;QAAA,AAAAf,4CAAAgB,WAAA,IAAA,/DAAgBP;IAAhBQ,aAAA,AAAAjB,4CAAAgB,WAAA,IAAA;IAAAC,iBAAA,AAAAC,4BAAAD;iBAAA,AAAAE,4CAAAF,eAAA,xEAA0BQ;WAA1B,AAAAN,4CAAAF,eAAA,lEAAqCS;AAArC,AAAA,IAAAzB,6BAAA;AAAA,AAAA,IAAA,AAAA,AAAAC,gDAAA,AAAA;;AAAA,IAAAC,wBAAA,qDAAA,iBAAAA,tEAEGwB,8FAAMH;AAFT,AAAA,AAAApB,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,sDAAA,qEAAA;;AAAAA;KAAA,iEAAA,iBAAAA,wBAGgBsB;AAHhB,AAAA,AAAArB,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,qEAAA,qEAAA;;AAAAA;uDAAA,sDAAA,iBAAAA,wBAIUuB;AAJV,AAAA,AAAAtB,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,yDAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,sXAAA,qEAAA;;AAAAA;gBAAA,IAAAE,IAAAe;AAAA,AAAA,MAAAf;IAAA,cAAAgB,HAAYG;AAAZ,AAAA,IAAAF,aAAAD;QAAA,AAAArB,4CAAAsB,WAAA,IAAA,/DAAgBb;IAAhBc,aAAA,AAAAvB,4CAAAsB,WAAA,IAAA;IAAAC,iBAAA,AAAAL,4BAAAK;iBAAA,AAAAJ,4CAAAI,eAAA,xEAA0BE;WAA1B,AAAAN,4CAAAI,eAAA,lEAAqCG;AAArC,AAEE,+DAAA,8HAAA,tLAACC,qDAAMH,oEACOC,mHACNC;;AAGZ,yDAAA,zDAAC9B,uIAEC,EAAA,AAAAC,iDAAA,aAAA+B,FAAYnB;AAAZ,AAAA,IAAAoB,aAAAD;YAAA,AAAA5B,4CAAA6B,WAAA,IAAA,nEAAepB;SAAf,AAAAT,4CAAA6B,WAAA,IAAA,hEAAiBnB;eAAjB,AAAAV,4CAAA6B,WAAA,IAAA,tEAAoBlB;AAApB,AAAA,IAAAV,6BAAA;AAAA,AAAA,IAAA,AAAA,AAAAC,gDAAA,AAAA;;AAAA,IAAAC,wBAAA,2CAAA,iEAAA,iBAAAA,wBAAA,uGAAA,iBAAAA,xHACgBS,gJAAMC;AADtB,AAAA,AAAAT,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,6EAAA,qEAAA;;AAAAA;KAAA,iBAAAA,wBAAA,2CAAA,uDAAA,oDAAA,mDAAA,cAAA,wDAAA,iBAAAA,wBAAA,2CAAA,2DAAA,iBAAAA,wBAIwCO;AAJxC,AAAA,AAAAN,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,oDAAA,qEAAA;;AAAAA;KAAA,4DAAA,iBAAAA,wBAIqDQ;AAJrD,AAAA,AAAAP,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,iEAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,+RAAA,qEAAA;;AAAAA;KAAA,iEAAA,iBAAAA,wBAAA,mFAAA;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,0LAAA,qEAAA;;AAAAA;KAAA,gEAAA,iBAAAA,wBAAA,mFAAA;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,8MAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,+jCAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,utCAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,20CAAA,qEAAA;;AAAAA;gBAAA,IAAAE,IAAAyB;AAAA,AAAA,MAAAzB;IAAA,aAAA0B,FAAYtB;AAAZ,AAAA,IAAAuB,aAAAD;YAAA,AAAA/B,4CAAAgC,WAAA,IAAA,nEAAevB;SAAf,AAAAT,4CAAAgC,WAAA,IAAA,hEAAiBtB;eAAjB,AAAAV,4CAAAgC,WAAA,IAAA,tEAAoBrB;AAApB,AAAA,kDAAA,iEACe,6HAAA,2CAAA,uDAAA,oDAAA,mDAAA,cAAA,wDAAA,2CAAA,8DAAA,6EAAA,iEAAA,mFAAA,uGAAA,gEAAA,mFAAA,h9BAACC,uGAAMC,2YAGkBH,+DAAaC;;AAKvD,yDAAA,zDAACf,wJAEC,EAAA,AAAAC,iDAAA,WAAAoC,SAAAC;AAAA,AAAA,IAAAC,aAAAF;IAAAE,iBAAA,AAAAjB,4BAAAiB;SAAA,AAAAhB,4CAAAgB,eAAA,hEAAoBX;IAApBY,aAAAF;QAAA,AAAAlC,4CAAAoC,WAAA,IAAA,/DAA0B3B;IAA1B4B,aAAA,AAAArC,4CAAAoC,WAAA,IAAA;IAAAC,iBAAA,AAAAnB,4BAAAmB;aAAAA,TAAgES;gBAAhE,AAAA3B,4CAAAkB,eAAA,vEAAoCO;cAApC,AAAAzB,4CAAAkB,eAAA,rEAA8CQ;WAA9C,AAAA1B,4CAAAkB,eAAA,lEAAsDX;AAAtD,AAAA,IAAAzB,6BAAA;AAAA,AAAA,IAAA,AAAA,AAAAC,gDAAA,AAAA;;AAAA,IAAAC,8BAAA,AAAAV,0DAAAC,mCAAA,qDAAA,qBAAA,KAAA,KAAA,8CAAA,qDAAA,KAAAC,gBAAA;AAAA,AAAA,0FAAA,8BAAA,MAAA,iBAAAQ,8BAGUyC;AAHV,AAAA,AAAAxC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,4BAAA,sDAAA,AAAA,oEAAA,qEAAA;;AAAAA;KAAA,MAAA,iBAAAA,8BAIU0C;AAJV,AAAA,AAAAzC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,4BAAA,sDAAA,AAAA,+DAAA,qEAAA;;AAAAA;KAAA,MAAA,iBAAAA,8BAKUuB;AALV,AAAA,AAAAtB,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,4BAAA,sDAAA,AAAA,yDAAA,qEAAA;;AAAAA;KAAA,MAAA,iBAAAA,8BAMU2C;AANV,AAAA,AAAA1C,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,4BAAA,sDAAA,AAAA,8DAAA,qEAAA;;AAAAA;;GAAA,OAAA,KAAA,WAAA;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,4BAAA,sDAAA,AAAA,8XAAA,qEAAA;;AAAAA;AAAA,IAAAA,wBAAA,2CAAA,6DAAA,iBAAAA,wBAAA,mFAAA,gFAAA,iBAAAA,wBAO8B0C;AAP9B,AAAA,AAAAzC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,+DAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,0OAAA,qEAAA;;AAAAA;KAAA,gDAAA,iBAAAA,wBAAA,qDAAA,iBAAAA,tEAQQwB,8FAAMH;AARd,AAAA,AAAApB,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,sDAAA,qEAAA;;AAAAA;KAAA,iEAAA,iBAAAA,wBASqByC;AATrB,AAAA,AAAAxC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,oEAAA,qEAAA;;AAAAA;uDAAA,2DAAA,iBAAAA,wBAUkB0C;AAVlB,AAAA,AAAAzC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,+DAAA,qEAAA;;AAAAA;KAAA,sDAAA,iBAAAA,wBAWeuB;AAXf,AAAA,AAAAtB,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,yDAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,+eAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,y3BAAA,qEAAA;;AAAAA;gBAAA,IAAAE,IAAAiC;AAAA,AAAA,MAAAjC;IAAA,WAAAkC,SAAAC;AAAA,AAAA,IAAAC,aAAAF;IAAAE,iBAAA,AAAAvB,4BAAAuB;SAAA,AAAAtB,4CAAAsB,eAAA,hEAAoBjB;IAApBkB,aAAAF;QAAA,AAAAxC,4CAAA0C,WAAA,IAAA,/DAA0BjC;IAA1BkC,aAAA,AAAA3C,4CAAA0C,WAAA,IAAA;IAAAC,iBAAA,AAAAzB,4BAAAyB;aAAAA,TAAgEG;gBAAhE,AAAA3B,4CAAAwB,eAAA,vEAAoCC;cAApC,AAAAzB,4CAAAwB,eAAA,rEAA8CE;WAA9C,AAAA1B,4CAAAwB,eAAA,lEAAsDjB;AAAtD,AACE,AAAAjC,0DAAAC,mCAAA,qDAAA,qBAAA,KAAA,GAAA,8CAAA,qDAAA,KAAAC,gBAAA;AAAA,AAAA,0FAAA,8BAAA,gBAAA,cAAA,WAAA,nCAEQiD,gBACAC,cACAnB,WACAoB;GALR,OAAA,KAAA,UAAA;;AADF,kDAAA,6DAAA,mFAAA,gGAAA,hBAO8BD,gEACvB,wDAAA,6HAAA,mEAAA,xPAAClB,qDAAMH,oEACOoB,uHACHC,8DACHnB;;AAGjB,yDAAA,zDAAC9B,yIAEC,EAAA,AAAAC,iDAAA,WAAAkD,SAAyBtC;AAAzB,AAAA,IAAAuC,aAAAD;IAAAC,iBAAA,AAAA9B,4BAAA8B;SAAA,AAAA7B,4CAAA6B,eAAA,hEAAoBxB;AAApB,AAAA,IAAAvB,6BAAA;AAAA,AAAA,IAAA,AAAA,AAAAC,gDAAA,AAAA;;AAAA,IAAAC,wBAAA,2CAAA,kDAAA,iBAAAA,wBAAA,mFAAA,iBAAAA,wBAAA,mFAAA,6DAAA,iBAAAA,wBAAA,mFAAA;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,wKAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,gUAAA,qEAAA;;AAAAA;KAAA,iBAAAA,wBAAA,mFAAA,6DAAA,iBAAAA,wBAAA,mFAAA;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,qLAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,6UAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,wuBAAA,qEAAA;;AAAAA;KAAA,gDAAA,iBAAAA,wBAAA,8CAAA,iBAAAA,/DAGQwB,uFAAMH;AAHd,AAAA,AAAApB,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,sDAAA,qEAAA;;AAAAA;KAAA,iEAAA;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,KAAA,yDAAAD,sBAAA,sDAAA,AAAA,wMAAA,qEAAA;;AAAAA;;AAAA,AAAA,AAAAC,iDAAA,2CAAA,8DAAA,EAAA,qEAAA,IAAA,yDAAAD,sBAAA,sDAAA,AAAA,qkCAAA,qEAAA;;AAAAA;gBAAA,IAAAE,IAAA4C;AAAA,AAAA,MAAA5C;IAAA,WAAA6C,SAAyBzC;AAAzB,AAAA,IAAA0C,aAAAD;IAAAC,iBAAA,AAAAjC,4BAAAiC;SAAA,AAAAhC,4CAAAgC,eAAA,hEAAoB3B;AAApB,AAAA,kDAAA,kDAAA,mFAAA,mFAAA,6DAAA,mFAAA,6FAAA,mFAAA,6DAAA,mFAAA,kHAAA,gDAGO,iDAAA,iEAAA,lHAACG,8CAAMH;;AAKhB","names":["taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","re_frame.core.reg_event_fx","day8.re-frame.tracing/is-trace-enabled?","p__48281","vec__48283","cljs.core.nth","+debux-dbg-opts+","day8.re-frame.debux.common.util/send-form!","result__35734__auto__","day8.re-frame.debux.common.util/send-trace!","e","e48311","p__48357","vec__48358","_","id","password","cljs.core.merge","events/default-header","re_frame.core.reg_event_db","p__48362","vec__48363","map__48366","cljs.core/--destructure-map","cljs.core.get","e48367","p__48394","vec__48396","map__48399","db","registered","uuid","cljs.core.assoc","p__48418","vec__48419","e48459","p__48462","vec__48478","p__48482","p__48483","map__48488","vec__48489","map__48492","e48503","p__48507","p__48508","map__48509","vec__48510","map__48513","logged-in","user-id","result","p__48514","map__48515","e48516","p__48517","map__48518"],"sourcesContent":["(ns events.login\n  (:require [taoensso.timbre :as log]\n            [re-frame.core :as re-frame]\n            [day8.re-frame.tracing :refer-macros [fn-traced]]\n            [day8.re-frame.http-fx]\n\n            [events :refer [default-header]]\n            [subscriptions :as pub-sub]))\n\n\n(log/info \"events.login\")\n\n\n(re-frame/reg-event-fx\n  :events/register\n  (fn-traced [_ [_ id password]]\n    {:http-xhrio (merge default-header\n                   {:method     :post\n                    :uri        \"/user/register\"\n                    :params     {:user-id id :password password}\n                    :on-request [::track-slow-request \"::register\"]\n                    :on-success [:events/register-success]\n                    :on-failure [::bad-lookup-result]})}))\n\n\n(re-frame/reg-event-db\n  :events/register-success\n  (fn-traced [db [_ {:keys [registered uuid]}]]\n    ;(log/info \"::register-success\" registered uuid)\n    (assoc db\n      :registered registered\n      :uuid uuid)))\n\n\n(re-frame/reg-event-fx\n  :events/login\n  (fn-traced [_ [_ id password]]\n    {:http-xhrio (merge default-header\n                   {:method     :post\n                    :uri        \"/user/login\"\n                    :params     {:user-id id :password password}\n                    :on-success [:events/login-success]\n                    :on-failure [::bad-lookup-result]})}))\n\n\n(re-frame/reg-event-fx\n  :events/login-success\n  (fn-traced [{:keys [db]} [_ {:keys [logged-in user-id uuid] :as result}]]\n    (log/info \":events/login-success\"\n      ;db\n      \"///\" logged-in\n      \"///\" user-id\n      \"///\" uuid\n      \"///\" result)\n    {:dispatch [::pub-sub/start user-id]\n     :db (assoc db\n           :logged-in? logged-in\n           :user-id user-id\n           :uuid uuid)}))\n\n\n(re-frame/reg-event-fx\n  :events/logoff\n  (fn-traced [{:keys [db]} _]\n    {:fx [[:dispatch [::pub-sub/stop]]\n          [:dispatch [::pub-sub/cancel-all]]]\n     :db (assoc db :logged-in? false)}))\n\n\n\n; try out the calls to the server\n(comment\n  (re-frame/dispatch [:events/login \"test-user\" \"test-pwd\"])\n\n  ())"]}