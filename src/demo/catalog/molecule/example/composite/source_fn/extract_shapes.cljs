(ns demo.catalog.molecule.example.composite.source-fn.extract-shapes)




(defn fn-extract-shapes* [entities]
  (->> entities
    (mapcat :shapes)
    vec))



(def entities [{:name            "ISS",
                :orbit/ephemeris {:line1 "1 25544U 98067A   19156.50900463  .00003075  00000-0  59442-4 0  9992",
                                  :line2 "2 25544  51.6433  59.2583 0008217  16.4489 347.6017 15.51174618173442"},
                :orbit/position  {:t_-20 [32.77538614915974 142.5920451463354 373.5285149592046],
                                  :t_-10 [51.2070893861597 -172.15663983748541 379.42074796443103],
                                  :t_0   [41.94563835858628 -117.94129690691629 377.66307460260396],
                                  :t_10  [14.869423268268184 -87.53535295190505 372.3757788888215],
                                  :t_20  [-15.785165549277702 -65.16389348371537 373.8332053781942],
                                  :t_30  [-42.58228778617963 -34.24226454897451 381.2050533394922],
                                  :t_40  [-51.01550854235012 20.411232873657866 383.22827121232694],
                                  :t_50  [-32.040959418045205 64.8512315624025 375.96692606025954]},
                :color           [:deepskyblue "rgba(0, 191, 255, 0.3)" [0 191 255 0.3] [1 0 1 0.3] "#00BFFF"],
                :shapes          [{:shape     :shape/path,
                                   :id        "ISS-orbit",
                                   :positions [[32.77538614915974 142.5920451463354 373.5285149592046]
                                               [51.2070893861597 -172.15663983748541 379.42074796443103]
                                               [41.94563835858628 -117.94129690691629 377.66307460260396]
                                               [14.869423268268184 -87.53535295190505 372.3757788888215]
                                               [-15.785165549277702 -65.16389348371537 373.8332053781942]
                                               [-42.58228778617963 -34.24226454897451 381.2050533394922]
                                               [-51.01550854235012 20.411232873657866 383.22827121232694]
                                               [-32.040959418045205 64.8512315624025 375.96692606025954]],
                                   :color     [:deepskyblue "rgba(0, 191, 255, 0.3)" [0 191 255 0.3] [1 0 1 0.3] "#00BFFF"],
                                   :width     1,
                                   :extrude   true}
                                  {:shape        :shape/model,
                                   :id           "ISS",
                                   :model-folder "data/models",
                                   :position     [41.94563835858628 -117.94129690691629 377.66307460260396],
                                   :url          "duck",
                                   :scale        5000}]}
               {:name            "wgs-f1",
                :orbit/ephemeris {:line1 "1 32258U 07046A   23331.52849543  .00000050  00000+0  00000+0 0  9992",
                                  :line2 "2 32258   0.0164 351.1502 0000389 247.3054  24.0178  1.00268698 42991"},
                :orbit/position  {:t_-20 [0.03253638758248764 6.017519245910558 35788.46266960715],
                                  :t_-10 [0.03322646709466974 6.017275299409182 35788.48593958729],
                                  :t_0   [0.03385415191034211 6.01702878931875 35788.50621841556],
                                  :t_10  [0.03441823016165685 6.016780070965176 35788.52346632617],
                                  :t_20  [0.03491760967136575 6.016529502912885 35788.537649351376],
                                  :t_30  [0.03535132020144953 6.016277449518136 35788.54873939001],
                                  :t_40  [0.03571851514150849 6.016024276038246 35788.55671425548],
                                  :t_50  [0.036018473303241046 6.015770351176236 35788.56155772221]},
                :color           [:darkseagreen "rgba(143, 188, 143, 0.3)" [143 188 143 0.3] [0.55 0.74 0.56 0.3] "#8FBC8F"],
                :shapes          [{:shape     :shape/path,
                                   :id        "wgs-f1-orbit",
                                   :positions [[0.03253638758248764 6.017519245910558 35788.46266960715]
                                               [0.03322646709466974 6.017275299409182 35788.48593958729]
                                               [0.03385415191034211 6.01702878931875 35788.50621841556]
                                               [0.03441823016165685 6.016780070965176 35788.52346632617]
                                               [0.03491760967136575 6.016529502912885 35788.537649351376]
                                               [0.03535132020144953 6.016277449518136 35788.54873939001]
                                               [0.03571851514150849 6.016024276038246 35788.55671425548]
                                               [0.036018473303241046 6.015770351176236 35788.56155772221]],
                                   :color     [:darkseagreen "rgba(143, 188, 143, 0.3)" [143 188 143 0.3] [0.55 0.74 0.56 0.3] "#8FBC8F"],
                                   :width     1,
                                   :extrude   true}
                                  {:shape        :shape/model,
                                   :id           "wgs-f1",
                                   :model-folder "data/models",
                                   :position     [0.03385415191034211 6.01702878931875 35788.50621841556],
                                   :url          "satellite",
                                   :scale        5000}]}
               {:name            "wgs-f6",
                :orbit/ephemeris {:line1 "1 39222U 13041A   23331.54451944  .00000099  00000+0  00000+0 0  9991",
                                  :line2 "2 39222   0.0081 358.3112 0000716 265.2602 223.4721  1.00270201 36709"},
                :orbit/position  {:t_-20 [-0.02549287920966747 -135.1971831100095 35783.48529273656],
                                  :t_-10 [-0.02524915506727115 -135.19684583482706 35783.47207676711],
                                  :t_0   [-0.024957810389623965 -135.1965073550312 35783.464641807455],
                                  :t_10  [-0.02461934979387756 -135.19616836075824 35783.4630007688],
                                  :t_20  [-0.024234367223368476 -135.1958295438857 35783.4671554699],
                                  :t_30  [-0.02380354480403487 -135.19549159331604 35783.47709663507],
                                  :t_40  [-0.023327651793741674 -135.19515519809568 35783.4928039103],
                                  :t_50  [-0.02280754311014565 -135.19482104270512 35783.51424590293]},
                :color           [:darkviolet "rgba(148, 0, 211, 0.3)" [148 0 211 0.3] [0.58 0 0.83 0.3] "#9400D3"],
                :shapes          [{:shape     :shape/path,
                                   :id        "wgs-f6-orbit",
                                   :positions [[-0.02549287920966747 -135.1971831100095 35783.48529273656]
                                               [-0.02524915506727115 -135.19684583482706 35783.47207676711]
                                               [-0.024957810389623965 -135.1965073550312 35783.464641807455]
                                               [-0.02461934979387756 -135.19616836075824 35783.4630007688]
                                               [-0.024234367223368476 -135.1958295438857 35783.4671554699]
                                               [-0.02380354480403487 -135.19549159331604 35783.47709663507]
                                               [-0.023327651793741674 -135.19515519809568 35783.4928039103]
                                               [-0.02280754311014565 -135.19482104270512 35783.51424590293]],
                                   :color     [:darkviolet "rgba(148, 0, 211, 0.3)" [148 0 211 0.3] [0.58 0 0.83 0.3] "#9400D3"],
                                   :width     1,
                                   :extrude   true}
                                  {:shape        :shape/model,
                                   :id           "wgs-f6",
                                   :model-folder "data/models",
                                   :position     [-0.024957810389623965 -135.1965073550312 35783.464641807455],
                                   :url          "satellite",
                                   :scale        5000}]}
               {:name            "wgs-f7",
                :orbit/ephemeris {:line1 "1 40746U 15036A   23331.41893376  .00000027  00000+0  00000+0 0  9996",
                                  :line2 "2 40746   0.0085  11.6100 0000233 173.0963 207.2319  1.00271819 30514"},
                :orbit/position  {:t_-20 [-0.01631296026538911 175.0363105605893 35785.14009336608],
                                  :t_-10 [-0.016937784411749302 175.0364358413569 35785.15666752943],
                                  :t_0   [-0.017532115242840603 175.03655905903486 35785.174944343205],
                                  :t_10  [-0.01809479026532259 175.03668001291229 35785.19488800329],
                                  :t_20  [-0.01862470416009609 175.03679850564475 35785.21645951741],
                                  :t_30  [-0.01912081109951487 175.03691434700116 35785.23961678017],
                                  :t_40  [-0.019582126603504967 175.03702734986504 35785.26431464587],
                                  :t_50  [-0.020007729641473956 175.03713733391405 35785.29050502116]},
                :color           [:forestgreen "rgba(34, 139, 34, 0.3)" [34 139 34 0.3] [0.13 0.55 0.13 0.3] "#228B22"],
                :shapes          [{:shape     :shape/path,
                                   :id        "wgs-f7-orbit",
                                   :positions [[-0.01631296026538911 175.0363105605893 35785.14009336608]
                                               [-0.016937784411749302 175.0364358413569 35785.15666752943]
                                               [-0.017532115242840603 175.03655905903486 35785.174944343205]
                                               [-0.01809479026532259 175.03668001291229 35785.19488800329]
                                               [-0.01862470416009609 175.03679850564475 35785.21645951741]
                                               [-0.01912081109951487 175.03691434700116 35785.23961678017]
                                               [-0.019582126603504967 175.03702734986504 35785.26431464587]
                                               [-0.020007729641473956 175.03713733391405 35785.29050502116]],
                                   :color     [:forestgreen "rgba(34, 139, 34, 0.3)" [34 139 34 0.3] [0.13 0.55 0.13 0.3] "#228B22"],
                                   :width     1,
                                   :extrude   true}
                                  {:shape        :shape/model,
                                   :id           "wgs-f7",
                                   :model-folder "data/models",
                                   :position     [-0.017532115242840603 175.03655905903486 35785.174944343205],
                                   :url          "satellite",
                                   :scale        5000}]}])



(comment
  (def e {})

  (update e :testing conj [1 2 3])

  (mapcat :shapes entities)


  (fn-extract-shapes* entities)




  ())