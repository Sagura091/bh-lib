{"version":3,"sources":["bh_ui/atom/worldwind/globe/layer.cljs"],"mappings":";AAKA,oDAAA,pDAAMA,gHAAkBC,WAAWC;AAAnC,AACE,IAAMC,QAAM,KAAAC;AAAZ,AACE,CAAM,AAAeD,oBAAOF;;AAC5B,AAACI,8CACC,AAACC,4CAAI,WAAKC;AAAL,AAEE,OAAgBJ,oBAAMI;GAC3BL;;AACJC;;AAGJ,4CAAA,5CAAMK,gGAAUC,MAAKR;AAArB,AACE,IAAME,QAAM,wBAAA,WAAAO,nCAAS,AAAA,AAAID;AAAb,AACG,OAACE,6CAAE,AAAAD,6BAAkBT;;AADpC,AAKE,OAACW,gBAAMT;;AAGX,4CAAA,5CAAMU,gGAAUJ,MAAKK,IAAIX;AAAzB,AAGE,AAAc,AAAOM,sBAAMK,IAAIX;;AAC/B,AAAS,AAAOM;;AAEhBN;;AAGF,+CAAA,/CAAMY,sGAAaN,MAAKR;AAAxB,AAGE,IAAAe,qBAAe,AAACR,0CAASC,MAAKR;AAA9B,AAAA,oBAAAe;AAAA,YAAAA,RAASb;AAAT,AACE,AACE,AAAc,AAAOM,sBAAMN;;AAG3B,OAAS,AAAOM;;AALpB","names":["bh-ui.atom.worldwind.globe.layer/renderable-layer","layer-name","children","layer","js/shadow.js.shim.module$worldwindjs.RenderableLayer","cljs.core.doall","cljs.core.map","child","bh-ui.atom.worldwind.globe.layer/getLayer","this","p1__59588#","cljs.core._EQ_","cljs.core/first","bh-ui.atom.worldwind.globe.layer/addLayer","idx","bh-ui.atom.worldwind.globe.layer/removeLayer","temp__5751__auto__"],"sourcesContent":["(ns bh-ui.atom.worldwind.globe.layer\n  (:require [\"worldwindjs\" :as WorldWind]\n            [taoensso.timbre :as log]))\n\n\n(defn renderable-layer [layer-name children]\n  (let [layer (WorldWind/RenderableLayer.)]\n    (set! (.-displayName layer) layer-name)\n    (doall\n      (map (fn [child]\n             ;(log/info \"renderable-layer adding\" layer-name child)\n             (.addRenderable layer child))\n        children))\n    layer))\n\n\n(defn getLayer [this layer-name]\n  (let [layer (.filter (.. this -wwd -layers)\n                #(= (.-displayName %) layer-name))]\n    ;(log/info \"getLayer\"\n    ;  (.-length layer)\n    ;  (map #(.-displayName %) layer))\n    (first layer)))\n\n\n(defn addLayer [this idx layer]\n  ;(log/info \"addLayer\" (.-displayName layer))\n\n  (.insertLayer (.-wwd this) idx layer)\n  (.redraw (.-wwd this))\n\n  layer)\n\n\n(defn removeLayer [this layer-name]\n  ;(log/info \"removeLayer\" layer-name)\n\n  (if-let [layer (getLayer this layer-name)]\n    (do\n      (.removeLayer (.-wwd this) layer)\n      ;(log/info \"removed?\" (map #(.-displayName %)\n      ;                       (.. this -wwd -layers)))\n      (.redraw (.-wwd this)))))\n\n"]}