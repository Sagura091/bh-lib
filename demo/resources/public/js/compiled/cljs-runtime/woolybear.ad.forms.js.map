{"version":3,"sources":["woolybear/ad/forms.cljs"],"mappings":"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","names":["woolybear.ad.forms/required-mark","cljs.spec.alpha/def-impl","cljs.core/boolean?","cljs.core/string?","cljs.spec.alpha/map-spec-impl","G__50553","cljs.core/map?","var_args","args__4870__auto__","len__4864__auto__","i__4865__auto__","argseq__4871__auto__","cljs.core/IndexedSeq","woolybear.ad.forms/label","seq50554","self__4852__auto__","cljs.core/seq","args","vec__50555","cljs.core.nth","map__50558","cljs.core/--destructure-map","cljs.core.get","opts","_","woolybear.ad.utils/extract-args","extra-classes","subscribe-to-classes","required?","for","classes-sub","woolybear.ad.utils/subscribe-to","vec__50559","cljs.core/deref","children","dynamic-classes","attribs","G__50562","woolybear.ad.utils.css__GT_str","cljs.core.assoc","G__50563","cljs.core.into","cljs.core.conj","cljs.spec.alpha/fspec-impl","cljs.spec.alpha.spec_impl","cljs.spec.alpha/cat-impl","cljs.spec.alpha/rep+impl","cljs.core/any?","cljs.core/vector?","G__50565","woolybear.ad.forms/mk-field-data","js/Error","path","woolybear.ad.forms.mk_field_data","default","G__50567","woolybear.ad.forms/mk-dispatchers","p__50568","map__50569","component-data-path","woolybear.ad.forms.mk_dispatchers","on-enter-key","on-escape-key","on-change","dispatch-key","on-key-dispatchers","G__50570","woolybear.ad.utils.append_to_dispatcher","on-key-down-dispatcher","woolybear.ad.utils/mk-keydown-dispatcher","blur-dispatcher","woolybear.ad.utils/mk-dispatcher","change-dispatcher*","change-dispatcher","e","re-frame.core/dispatch","woolybear.ad.utils/js-event-val","G__50571","G__50572","cljs.spec.alpha/maybe-impl","cljs.core/keyword?","p__50573","vec__50574","seq__50575","first__50576","cljs.core/first","cljs.core/next","vec__50577","woolybear.ad.forms/handle-form-field-init","db","cljs.core/assoc-in","re_frame.core.reg_event_db","p__50580","vec__50581","woolybear.ad.forms/handle-form-field-focus","cljs.core.update_in","cljs.core/assoc","p__50584","vec__50585","woolybear.ad.forms/handle-form-field-blur","p__50588","vec__50589","woolybear.ad.forms/handle-form-field-change","new-val","p__50592","vec__50593","woolybear.ad.forms/handle-multi-select-change","change-val","current-selection","cljs.core.get_in","new-selection","cljs.core.disj","p__50596","vec__50597","woolybear.ad.forms/handle-checkbox-change","value-path","cljs.core/not","G__50600","cljs.core/contains?","woolybear.ad.forms/errors-list","errors","cljs.core.mapv","err","classes","cljs.spec.alpha.every_impl","G__50601","cljs.core/coll?","G__50602","G__50603","woolybear.ad.forms/get-text-input-attribs","map__50604","id","name","type","placeholder","autofocus?","or__4253__auto__","dispatchers","G__50605","cljs.core.merge","woolybear.ad.forms/text-input","map__50606","subscribe-to-component-data","subscribe-to-disabled?","subscribe-to-errors","component-data-sub","disabled?-sub","errors-sub","map__50607","value","disabled?","G__50608","woolybear.ad.forms/field-group","seq50609","vec__50610","map__50613","vec__50614","cljs.core/int?","cljs.core/fn?","G__50617","woolybear.ad.forms/get-select-input-attribs","map__50618","multiple?","size","G__50619","woolybear.ad.forms/select-input","map__50620","subscribe-to-option-items","none-value","get-label-fn","get-value-fn","option-items-sub","item","cljs.core/str","map__50621","option-items","G__50622","G__50623","woolybear.ad.forms/checkbox","seq50624","G__50625","self__4851__auto__","map__50626","G__50627","map__50628","G__50629"],"sourcesContent":["(ns woolybear.ad.forms\n  \"\n  Form fields are moderately-complex components in that they have a lot of user interaction\n  and need to support validation. Much of the basic functionality of form fields is provided\n  by the browser (fortunately), so we don't need to build as much custom code as we might,\n  but we still want to expand our components a bit in order to make our components more\n  flexible and useful.\n  \"\n  (:require [re-frame.core :as re-frame]\n            [cljs.spec.alpha :as s]\n            [woolybear.ad.utils :as adu]))\n\n;;;\n;;; Labels\n;;;\n\n(defn required-mark\n  \"\n  Simple red asterisk for adding to form field labels to mark the corresponding form\n  field as required. Takes no options.\n  \"\n  []\n  [:span.is-required-mark \"*\"])\n\n(s/def :label/required? boolean?)\n(s/def :label/for string?)\n(s/def :label/options (s/keys :opt-un [:ad/extra-classes\n                                       :ad/subscribe-to-classes\n                                       :label/required?]))\n\n(defn label\n  \"\n  Simple label component for use with form fields. Supports the standard :extra-classes and\n  :subscribe-to-classes options, plus an optional :required? option that, if present and\n  truthy, will add a red asterisk to the label. You can also pass in a :for option containing\n  the DOM ID of the element that the label describes.\n  \"\n  [& args]   ;; opts & children\n  (let [[opts _] (adu/extract-args args)\n        {:keys [extra-classes subscribe-to-classes\n                required? for]} opts\n        classes-sub (adu/subscribe-to subscribe-to-classes)]\n    (fn [& args]\n      (let [[_ children] (adu/extract-args args)\n            dynamic-classes @classes-sub\n            attribs (cond-> {:class (adu/css->str :label :wb-label\n                                                  extra-classes\n                                                  dynamic-classes)}\n                            for (assoc :for for))]\n        (cond->\n          (into [:label attribs]\n                children)\n          required? (conj [required-mark]))))))\n\n(s/fdef label\n  :args (s/cat :opts :label/options\n               :children (s/+ any?))\n  :ret vector?)\n\n(defn mk-field-data\n  \"\n  Generates the internal fields used by self-aware form field components. Takes a vector\n  of keywords to be used by `assoc-in` or `update-in` to update the value in the app-db.\n  The optional second value is the default value to set the field value to. Returns a map\n  of appropriate values to be added to the app-db in the appropriate location.\n  \"\n  ([path] (mk-field-data path nil))\n  ([path default]\n   {:value          default\n    :path           path\n    :visited?       false\n    :active?        false\n    :original-value default\n    }))\n\n(s/fdef mk-field-data\n  :args (s/cat :path :ad/component-path)\n  :ret vector?)\n\n(defn mk-dispatchers\n  \"Given a component-data-path and a map with the keys :on-enter-key, :on-escape-key, and :on-change,\n  return a map with each of those keys mapped to a dispatcher function suitable for use in text-input,\n  select-input, and so on. Note that this us used for select-input as well as text-input, so we need\n  to check for the :multiple? option in the on-change handler.\"\n  ([component-data-path opts] (mk-dispatchers component-data-path opts :form-field/change))\n  ([component-data-path {:keys [on-enter-key on-escape-key on-change]} dispatch-key]\n   (let [path component-data-path ;; alias for convenience\n         on-key-dispatchers (cond-> {}\n                                    on-enter-key (assoc \"Enter\"\n                                                        (adu/append-to-dispatcher on-enter-key path))\n                                    on-escape-key (assoc \"Escape\"\n                                                         (adu/append-to-dispatcher on-escape-key path)))\n         on-key-down-dispatcher (when (seq on-key-dispatchers)\n                                  (adu/mk-keydown-dispatcher on-key-dispatchers))\n         blur-dispatcher (adu/mk-dispatcher [:form-field/blur component-data-path])\n         change-dispatcher* (when on-change\n                              (adu/mk-dispatcher (adu/append-to-dispatcher on-change component-data-path)))\n         change-dispatcher (if change-dispatcher*\n                             (fn [e]\n                               (re-frame/dispatch [dispatch-key component-data-path (adu/js-event-val e)])\n                               (change-dispatcher* e))\n                             ;; else\n                             (fn [e]\n                               (re-frame/dispatch [dispatch-key component-data-path (adu/js-event-val e)])))]\n     (cond-> {:on-change change-dispatcher\n              :on-blur blur-dispatcher}\n             on-key-down-dispatcher (assoc :on-key-down on-key-down-dispatcher)))))\n\n(s/fdef mk-dispatchers\n  :args (s/cat :path vector?\n               :dispatchers (s/keys :opt-un [:input/on-enter-key\n                                             :input/on-escape-key\n                                             :input/on-change])\n               :dispatch-key (s/? keyword?))\n  :ret map?)\n\n;;;\n;;; Built-in handlers for input field events\n;;;\n\n;; Field initialization\n\n(defn handle-form-field-init\n  \"Handler function for :form-field/init event. The event should be dispatched with\n  two additional arguments: the path to the component, and the default value, if any.\"\n  [db [_ path & [default]]]\n  (assoc-in\n    db path\n    (mk-field-data path default)))\n\n(re-frame/reg-event-db\n  :form-field/init\n  handle-form-field-init)\n\n;; Field focus\n\n(defn handle-form-field-focus\n  \"Handler function for :form-field/focus event. Updates the :visited? and :active?\n  keys in the field data map. Takes the path to the component to update.\"\n  [db [_ path]]\n  (update-in db path assoc :visited? true :active? true))\n\n(re-frame/reg-event-db\n  :form-field/focus\n  handle-form-field-focus)\n\n;; Field blur\n\n(defn handle-form-field-blur\n  \"Handler function for the :form-field/blur event. Updates the :active? key in the\n  field data map. Takes the path to the component to update.\"\n  [db [_ path]]\n  (update-in db path\n             assoc :active? false :visited? true))\n\n(re-frame/reg-event-db\n  :form-field/blur\n  handle-form-field-blur)\n\n;; Field change\n\n(defn handle-form-field-change\n  \"Handler function for the :form-field/change event. Updates the :value key in the\n  field data map. Takes the path to the component to update, and the new value for\n  the field.\"\n  [db [_ path new-val]]\n  (update-in db path assoc :value new-val))\n\n(re-frame/reg-event-db\n  :form-field/change\n  handle-form-field-change)\n\n(defn handle-multi-select-change\n  \"Handler function for the :multi-select/change event. Updates the :value key in\n  the field data map, allowing for multiple selections. Takes the path to the component\n  to update, and the new value to toggle in or out of the set of selected options.\"\n  [db [_ path change-val]]\n  (if (seq change-val)\n    (let [current-selection (into #{} (:value (get-in db path)))\n          new-selection (if (current-selection change-val)\n                          (disj current-selection change-val)\n                          (conj current-selection change-val))]\n      (update-in db path assoc :value (into [] new-selection)))\n    db))\n\n(re-frame/reg-event-db\n  :multi-select/change\n  handle-multi-select-change)\n\n(defn handle-checkbox-change\n  \"Handler function for the :checkbox/change event. Toggles the boolean value\n  of the :value key in the component data.\"\n  [db [_ path]]\n  (let [value-path (conj path :value)]\n    (update-in db value-path not)))\n\n(re-frame/reg-event-db\n  :checkbox/change\n  handle-checkbox-change)\n\n;;;\n;;; Form field components\n;;;\n\n(s/def :error/msg string?)\n(s/def :error/class #{:error :warning :info})\n\n(s/def :form-field/error (s/keys :req-un [:error/msg]\n                                 :opt-un [:error/class]))\n\n(defn errors-list\n  \"\n  Given a list of validation errors, in the form of maps with :msg and :class keys,\n  display a suitably-formatted list of error messages.\n  \"\n  [errors]\n  (when (seq errors)\n    (into [:div.wb-errors]\n          (mapv (fn [err]\n                  (let [classes (adu/css->str :wb-error (:class err))]\n                    [:div {:class classes} (:msg err)]))\n                errors))))\n\n(s/fdef errors-list\n  :args (s/cat :errors (s/coll-of :form-field/error))\n  :ret vector?)\n\n(s/def :input/id string?)\n(s/def :input/name string?)\n(s/def :input/type #{:text :password})\n(s/def :input/default any?)\n(s/def :input/placeholder string?)\n(s/def :input/subscribe-to-disabled? :ad/subscription)\n(s/def :input/subscribe-to-errors :ad/subscription)\n(s/def :input/on-change :ad/event-dispatcher)\n(s/def :input/on-enter-key :ad/event-dispatcher)\n(s/def :input/on-escape-key :ad/event-dispatcher)\n(s/def :input/autofocus? boolean?)\n(s/def :input/component-data-path (s/coll-of keyword? :kind vector?))\n\n(s/def :input/options (s/keys :req-un [:ad/subscribe-to-component-data\n                                       :input/component-data-path]\n                              :opt-un [:input/id\n                                       :input/name\n                                       :input/type\n                                       :input/default\n                                       :input/subscribe-to-disabled?\n                                       :input/placeholder\n                                       :input/subscribe-to-errors\n                                       :input/on-change\n                                       :input/on-enter-key\n                                       :input/on-escape-key\n                                       :input/autofocus?\n                                       :ad/extra-classes\n                                       :ad/subscribe-to-classes]))\n\n(defn- get-text-input-attribs\n  \"Utility function just to keep text-input from getting too big. Builds the component\n  attributes map given the options.\"\n  [opts]\n  (let [{:keys [component-data-path id name type placeholder autofocus?]} opts\n        type (or type :text)  ;; set default value for optional :text key\n        dispatchers (mk-dispatchers component-data-path opts)]\n    (cond-> (merge dispatchers {:type type})\n            id (assoc :id id)\n            name (assoc :name name)\n            placeholder (assoc :placeholder placeholder)\n            autofocus? (assoc :autofocus autofocus?))))\n\n(defn text-input\n  \"\n  Text-input field component. Includes built-in functionality for updating its\n  its field data in response to user interaction. Takes a single `opts` argument,\n  which should be a map of option keys and values. Accepts the standard extra-classes\n  and subscribe-to-classes options, as well as the following options:\n\n    * :id  A string to be used as the DOM ID for this field\n    * :name The `name` attribute for this field\n    * :type Either :text or :password, default :text\n    * :default Default value for the field.\n    * :subscribe-to-disabled? Subscription to a boolean value that returns true if the field should be disabled.\n    * :placeholder A placeholder string to display in the field when empty\n    * :subscribe-to-errors A validation subscription returning any error messages to display below the field.\n    * :on-change An event dispatcher to dispatch when the user changes the value of the input\n                 Note that the text-input automatically updates app-db when the value changes; the on-change\n                 dispatcher here is for any *additional* events you wish to fire when the value changes.\n    * :on-enter-key An event dispatcher to dispatch when the user hits Enter in this field\n    * :on-escape-key An event dispatcher to dispatch when the user hits Escape in this field\n    * :autofocus? If present, and true, sets the `autofocus` attribute on this field\n    * :component-data-path Path to field data in app-db\n\n  Text inputs have two required options: :component-data-path and :subscribe-to-component-data.\n  The :component-data-path must be a vector of keywords, suitable for use with assoc-in and update-in,\n  defining where the component data for this field lives in the app-db. The subscribe-to-component-data\n  option must be a subscription returning this data.\n  \"\n  [opts]\n  (let [{:keys [subscribe-to-component-data\n                component-data-path\n                default subscribe-to-disabled?\n                subscribe-to-errors extra-classes\n                subscribe-to-classes]} opts\n        component-data-sub (adu/subscribe-to\n                             subscribe-to-component-data)\n        disabled?-sub (adu/subscribe-to subscribe-to-disabled?)\n        errors-sub (adu/subscribe-to subscribe-to-errors)\n        classes-sub (adu/subscribe-to subscribe-to-classes)\n        attribs (get-text-input-attribs opts)]\n    ;; dispatch init event at component definition time\n    (re-frame/dispatch [:form-field/init\n                        component-data-path default])\n    (fn [_]\n      (let [{:keys [value]} @component-data-sub\n            dynamic-classes @classes-sub\n            disabled? @disabled?-sub\n            errors @errors-sub\n            attribs (cond->\n                      (assoc attribs :class (adu/css->str :input :wb-text-input\n                                                          extra-classes\n                                                          dynamic-classes)\n                                     :value value)\n                      disabled? (assoc :disabled \"disabled\"))]\n        [:div.control\n         [:input attribs]\n         [errors-list errors]]))))\n\n(s/fdef text-input\n  :args (s/cat :opts :input/options)\n  :ret vector?)\n\n(defn field-group\n  \"\n  A component to group together an input field and a label. Accepts standard :extra-classes and\n  :subscribe-to-classes options.\n  \"\n  [& args]\n  (let [[{:keys [extra-classes subscribe-to-classes]} _] (adu/extract-args args)\n        classes-sub (adu/subscribe-to subscribe-to-classes)]\n    (fn [& args]\n      (let [[_ children] (adu/extract-args args)\n            dynamic-classes @classes-sub]\n        (into [:div {:class (adu/css->str :field :wb-field-group\n                                          extra-classes\n                                          dynamic-classes)}]\n              children)))))\n\n(s/fdef field-group\n  :args (s/cat :opts :label/options\n               :children (s/+ any?))\n  :ret vector?)\n\n(s/def :select/subscribe-to-option-items :ad/subscription)\n(s/def :select/none-value string?)\n(s/def :select/multiple? boolean?)\n(s/def :select/size int?)\n(s/def :select/get-label-fn fn?)\n(s/def :select/get-value-fn fn?)\n\n(s/def :select/options (s/keys :req-un [:select/subscribe-to-option-items\n                                        :ad/subscribe-to-component-data\n                                        :input/component-data-path]\n                               :opt-un [:input/id\n                                        :input/name\n                                        :input/default\n                                        :input/autofocus?\n                                        :input/subscribe-to-disabled?\n                                        :input/subscribe-to-errors\n                                        :input/on-change\n                                        :input/on-enter-key\n                                        :input/on-escape-key\n                                        :select/none-value\n                                        :select/multiple?\n                                        :select/size\n                                        :select/get-label-fn\n                                        :select/get-value-fn\n                                        :ad/extra-classes\n                                        :ad/subscribe-to-classes]))\n\n(defn- get-select-input-attribs\n  [opts]\n  (let [{:keys [component-data-path id name autofocus? multiple? size]} opts\n        dispatchers (if multiple?\n                      (mk-dispatchers component-data-path opts :multi-select/change)\n                      (mk-dispatchers component-data-path opts))]\n    (cond-> dispatchers\n            id (assoc :id id)\n            name (assoc :name name)\n            autofocus? (assoc :autofocus autofocus?)\n            multiple? (assoc :multiple true)\n            size (assoc :size size))))\n\n(defn select-input\n  \"\n  A drop-down/select-menu component for use in forms. Options to display in the select input are\n  passed in via the :subscribe-to-option-items key in the opts argument. If you wish to specify a\n  \\\"none\\\" selection to display at the top of the select list, pass it in via the :none-value key.\n  As a self-referential input component, select input requires the component-data-path option and\n  the subscribe-to-component-data subscription, as with the text-input component. The value of the\n  :component-data-path must be a vector of keywords, suitable for use with assoc-in and update-in,\n  defining where the component data for this field lives in the app-db. The subscribe-to-component-data\n  option must be a subscription returning this data.\n\n  The select-input component supports the standard :extra-classes and :subscribe-to-classes options,\n  as well as the following:\n\n    * :id The DOM ID for this element (e.g. for use with [label] components)\n    * :name The form field name attribute for this component\n    * :default A default value for the select\n    * :autofocus? If present and true, sets the \\\"autofocus\\\" attribute\n    * :subscribe-to-disabled? Subscription returning true if this component should be disabled\n    * :multiple? If present and true, enables multiple selections (e.g. checklist)\n    * :size If present, sets the \\\"size\\\" attribute on the select element\n    * :on-change An event dispatcher to dispatch when the user changes the value of the input\n                 Note that select-input automatically updates app-db when the value changes; the\n                 on-change handler is for any *additional* events you wish to fire when the value changes.\n    * :on-enter-key An event dispatcher to dispatch when the user hits Enter in this field\n    * :on-escape-key An event dispatcher to dispatch when the user hits Escape in this field\n    * :get-label-fn (See below)\n    * :get-value-fn (See below)\n\n  The option-items list returned by :subscribe-to-option-items can be in any format as long as you\n  provide values for the keys :get-label-fn and/or get-value-fn. For each item in the option-items\n  list, a label will be generated by calling the get-label-fn with the option item as an argument.\n  Default action is to use the value of the :label key in the option item if there is one, or to\n  use the entire option item, in string form. The default value is to return the entire option item.\n  \"\n  [opts]\n  (let [{:keys [extra-classes subscribe-to-classes subscribe-to-option-items subscribe-to-disabled?\n                component-data-path subscribe-to-component-data default none-value multiple?\n                subscribe-to-errors get-label-fn get-value-fn]} opts\n        classes-sub (adu/subscribe-to subscribe-to-classes)\n        option-items-sub (adu/subscribe-to subscribe-to-option-items)\n        disabled?-sub (adu/subscribe-to subscribe-to-disabled?)\n        component-data-sub (adu/subscribe-to subscribe-to-component-data)\n        errors-sub (adu/subscribe-to subscribe-to-errors)\n        default (or default (if multiple? [] \"\"))\n        get-label-fn (if (fn? get-label-fn)\n                       get-label-fn\n                       (fn [item]\n                         (or (:label item) (str item))))\n        get-value-fn (if (fn? get-value-fn)\n                       get-value-fn\n                       str)\n        attribs (get-select-input-attribs opts)]\n\n    ;; dispatch init event at component definition time\n    (re-frame/dispatch [:form-field/init component-data-path default])\n\n    (fn [_]\n      (let [{:keys [value]} @component-data-sub\n            value (or value (if multiple? [] \"\"))\n            dynamic-classes @classes-sub\n            option-items @option-items-sub\n            disabled? @disabled?-sub\n            errors @errors-sub\n            children (if none-value [[:option {:value \"\"} none-value]]\n                                    [])\n            children (into children (mapv (fn [item]\n                                            [:option {:value (get-value-fn item)} (get-label-fn item)])\n                                          option-items))\n            attribs (cond-> (assoc attribs :class (adu/css->str :input :select :wb-select\n                                                                (when multiple? :is-multiple)\n                                                                extra-classes\n                                                                dynamic-classes)\n                                           :value value)\n                            disabled? (assoc :disabled \"disabled\"))]\n        [:div.control\n         [:div.select {:class (adu/css->str (when multiple? :is-multiple))}\n          (into [:select attribs] children)]\n         [errors-list errors]]))))\n\n(s/fdef select-input\n  :args (s/cat :opts :select/options)\n  :ret vector?)\n\n(s/def :checkbox/options (s/keys :req-un [:input/component-data-path\n                                          :ad/subscribe-to-component-data]\n                                 :opt-un [:input/default\n                                          :input/id\n                                          :input/name\n                                          :input/on-change\n                                          :input/subscribe-to-disabled?\n                                          :ad/extra-classes\n                                          :ad/subscribe-to-classes]))\n\n(defn checkbox\n  \"\n  Standard checkbox component, takes standard options :component-data-path, :subscribe-to-component-data,\n  :default, :id, :name, :on-change, :subscribe-to-disabled? :extra-classes, and :subscribe-to-classes.\n  \"\n  [opts & children]\n  (let [{:keys [component-data-path default subscribe-to-component-data id name\n                subscribe-to-disabled? extra-classes subscribe-to-classes]} opts\n        component-data-sub (adu/subscribe-to subscribe-to-component-data)\n        classes-sub (adu/subscribe-to subscribe-to-classes)\n        disabled?-sub (adu/subscribe-to subscribe-to-disabled?)\n        dispatchers (mk-dispatchers component-data-path opts :checkbox/change)\n        attribs (cond-> dispatchers\n                        id (assoc :id id)\n                        name (assoc :name name))]\n    (re-frame/dispatch [:form-field/init component-data-path default])\n    (fn [_]\n      (let [{:keys [value]} @component-data-sub\n            disabled? @disabled?-sub\n            dynamic-classes @classes-sub\n            attribs (cond-> (assoc attribs :type \"checkbox\"\n                                           :value value\n                                           :checked value)\n                            disabled? (assoc :disabled \"disabled\"))]\n        [:span.control\n         (into [:label {:class (adu/css->str :checkbox :wb-checkbox\n                                             (when disabled? :disabled)\n                                             extra-classes\n                                             dynamic-classes)}\n                [:input attribs]]\n               children)]))))\n\n(s/fdef checkbox\n  :args (s/cat :opts :checkbox/options)\n  :ret vector?)\n"]}