{"version":3,"sources":["demo/src/catalog/organism/ui_grid/sub_example.cljs"],"mappings":"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","names":["taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","demo.src.catalog.organism.ui-grid.sub-example/container-id","demo.src.catalog.organism.ui-grid.sub-example/bar-chart-widget","bh-ui.molecule.grid-container/component","reagent.core.atom","bh-ui.molecule.composite.chart-remote-data/ui-definition","bh_ui.utils.helpers.path__GT_keyword","demo.src.catalog.organism.ui-grid.sub-example/multi-chart-widget","bh-ui.molecule.composite.simple-multi-chart/ui-definition","demo.src.catalog.organism.ui-grid.sub-example/multi-chart-2-widget","bh-ui.molecule.composite.simple-multi-chart-2/ui-definition","demo.src.catalog.organism.ui-grid.sub-example/coverage-plan-widget","bh-ui.molecule.composite.coverage-plan/ui-definition","demo.src.catalog.organism.ui-grid.sub-example/default-widgets","demo.src.catalog.organism.ui-grid.sub-example/bar-chart-layout","demo.src.catalog.organism.ui-grid.sub-example/multi-chart-layout","demo.src.catalog.organism.ui-grid.sub-example/multi-chart-2-layout","demo.src.catalog.organism.ui-grid.sub-example/coverage-plan-layout","demo.src.catalog.organism.ui-grid.sub-example/default-layout","demo.src.catalog.organism.ui-grid.sub-example/empty-widgets","demo.src.catalog.organism.ui-grid.sub-example/empty-layout","demo.src.catalog.organism.ui-grid.sub-example/config","demo.src.catalog.organism.ui-grid.sub-example/grid-reset","container-id","widget-val","layout-val","bh-ui.utils.helpers/handle-change-path","demo.src.catalog.organism.ui-grid.sub-example/toggle-val","s","val","cljs.core/contains?","cljs.core.disj","cljs.core.conj","demo.src.catalog.organism.ui-grid.sub-example/grid-update","widgets","layout","cljs.core/deref","bh-ui.utils.helpers/resolve-value","demo.src.catalog.organism.ui-grid.sub-example/widget-tools","default-widgets","re-com.core/h-box","js/goog.DEBUG","re-com.core/button","var_args","args__4870__auto__","len__4864__auto__","i__4865__auto__","argseq__4871__auto__","cljs.core/IndexedSeq","demo.src.catalog.organism.ui-grid.sub-example/ui-grid-container","p__61274","map__61275","cljs.core/--destructure-map","cljs.core.get","seq61273","self__4852__auto__","cljs.core/seq","params","id","cljs.core/reset!","bh-ui.utils/init-container-locals","bh-ui.utils/dispatch-local","bh-ui.utils/build-subs","bh-ui.organism.ui-grid/component","demo.src.catalog.organism.ui-grid.sub-example/example","logged-in?","re_frame.core.subscribe","pub-sub-started?","cljs.core/not","re-frame.core/dispatch","G__61276","G__61277","G__61278","G__61279","woolybear.ad.utils/demo","and__4251__auto__","woolybear.ad.layout/page","re-com.core/v-box","re-com.core/alert-box"],"sourcesContent":["(ns demo.src.catalog.organism.ui-grid.sub-example\n  (:require [demo.subs :as subs]\n            [bh-ui.molecule.composite.chart-remote-data :as chart-remote-data]\n            [bh-ui.molecule.composite.coverage-plan :as coverage-plan]\n            [bh-ui.molecule.composite.simple-multi-chart :as simple-multi-chart]\n            [bh-ui.molecule.composite.simple-multi-chart-2 :as simple-multi-chart-2]\n            [bh-ui.molecule.grid-container :as grid-container]\n            [bh-ui.organism.ui-grid :as grid]\n            [bh-ui.utils :as ui-utils]\n            [bh-ui.utils.helpers :as h]\n            [re-com.core :as rc]\n            [re-frame.core :as re-frame]\n            [reagent.core :as r]\n            [taoensso.timbre :as log]\n            [woolybear.ad.utils :as acu]\n            [woolybear.ad.layout :as layout]))\n\n\n(log/info \"demo.src.catalog.organism.ui-grid.sub-example\")\n\n\n(def container-id :ui-grid-sub-demo)\n\n(def bar-chart-widget [\"bar-chart\" \"Bar Chart\"\n                       [grid-container/component\n                        :data (r/atom chart-remote-data/ui-definition)\n                        :component-id (h/path->keyword container-id \"bar-chart\")\n                        :resizable true]\n                       :green :white])\n(def multi-chart-widget [\"multi-chart\" \"Multi-Chart\"\n                         [grid-container/component\n                          :data (r/atom simple-multi-chart/ui-definition)\n                          :component-id (h/path->keyword container-id \"multi-chart\")\n                          :resizable true]\n                         :blue :white])\n(def multi-chart-2-widget [\"multi-chart-2\" \"Multi-Chart-2\"\n                           [grid-container/component\n                            :data (r/atom simple-multi-chart-2/ui-definition)\n                            :component-id (h/path->keyword container-id \"multi-chart-2\")\n                            :resizable true]\n                           :rebeccapurple :white])\n(def coverage-plan-widget [\"coverage-plan\" \"Coverage Plan\"\n                           [grid-container/component\n                            :data (r/atom coverage-plan/ui-definition)\n                            :component-id (h/path->keyword container-id \"coverage-plan\")\n                            :resizable true]\n                           :yellow :black])\n(def default-widgets #{bar-chart-widget})\n\n(def bar-chart-layout {:i \"bar-chart\" :x 0 :y 0 :w 8 :h 15})\n(def multi-chart-layout {:i \"multi-chart\" :x 0 :y 10 :w 8 :h 15})\n(def multi-chart-2-layout {:i \"multi-chart-2\" :x 8 :y 21 :w 12 :h 15})\n(def coverage-plan-layout {:i \"coverage-plan\" :x 8 :y 0 :w 12 :h 21})\n(def default-layout #{bar-chart-layout})\n\n(def empty-widgets #{})\n(def empty-layout #{})\n\n\n(def config\n  {:widgets   default-widgets\n   :layout    default-layout\n   :container \"\"})\n\n\n(defn- grid-reset [container-id widget-val layout-val]\n  (h/handle-change-path container-id  [] {:widgets  widget-val :layout layout-val}))\n\n\n(defn- toggle-val [s val]\n  (if (contains? s val)\n    (disj s val)\n    (conj s val)))\n\n\n(defn- grid-update [container-id widgets layout widget-val layout-val]\n  (h/handle-change-path container-id []\n    {:widgets (toggle-val @(h/resolve-value widgets) widget-val)\n     :layout (toggle-val @(h/resolve-value layout) layout-val)}))\n\n\n(defn- widget-tools [container-id widgets layout default-widgets]\n  [rc/h-box :src (rc/at)\n   :gap \"10px\"\n   :style {:border     \"1px solid\" :border-radius \"3px\"\n           :box-shadow \"5px 5px 5px 2px\"\n           :margin     \"5px\" :padding \"5px\"}\n   :children [[:label.h5 \"Widgets:\"]\n              [rc/button :on-click #(grid-reset container-id\n                                      empty-widgets empty-layout)\n               :label \"Empty\"]\n              [rc/button :on-click #(grid-reset container-id\n                                      default-widgets default-layout)\n               :label \"Default\"]\n              [rc/button :on-click #(grid-update container-id widgets layout\n                                      bar-chart-widget bar-chart-layout)\n               :label \"! Bar Chart\"]\n              [rc/button :on-click #(grid-update container-id widgets layout\n                                      multi-chart-widget multi-chart-layout)\n               :label \"! Multi Chart\"]\n              [rc/button :on-click #(grid-update container-id widgets layout\n                                      multi-chart-2-widget multi-chart-2-layout)\n               :label \"! Multi Chart 2\"]\n              [rc/button :on-click #(grid-update container-id widgets layout\n                                      coverage-plan-widget coverage-plan-layout)\n               :label \"! Coverage Plan\"]]])\n\n\n(defn- ui-grid-container [& {:keys [widgets layout container-id] :as params}]\n  (log/info \"ui-grid-container\" params)\n\n  (let [id (r/atom nil)]\n\n    (fn []\n      (when (nil? @id)\n        (reset! id container-id)\n        (ui-utils/init-container-locals @id config)\n        (ui-utils/dispatch-local @id [:container] container-id)\n        (ui-utils/build-subs container-id config))\n\n      [grid/component\n       :widgets widgets\n       :layout layout\n       :container-id container-id])))\n\n\n(defn example []\n  (let [logged-in?       (re-frame/subscribe [:subs/logged-in?])\n        pub-sub-started? (re-frame/subscribe [:bhui.subs/pub-sub-started?])\n        widgets          [container-id :widgets]\n        layout           [container-id :layout]]\n\n    (if (not @logged-in?)\n      (re-frame/dispatch [:events/login \"test-user\" \"test-pwd\"]))\n\n    (fn []\n      (acu/demo \"Widget Grid (subscription-based)\"\n        \"A grid of widget, which are composed of UI Components using subscription to the data structure that defines a directed graph.\"\n\n        (if (and @logged-in? @pub-sub-started?)\n          [layout/page {:extra-classes :is-fluid}\n\n           [rc/v-box :src (rc/at)\n            :gap \"5px\"\n            :children [[ui-grid-container\n                        :widgets widgets\n                        :layout layout\n                        :container-id container-id]\n                       [widget-tools container-id widgets layout default-widgets default-layout]]]]\n\n          [rc/alert-box :src (rc/at)\n           :alert-type :info\n           :heading \"Waiting for (demo) Log-in\"])\n        '[grid/component\n          :widgets widgets\n          :layout layout\n          :container-id container-id]))))\n\n"]}