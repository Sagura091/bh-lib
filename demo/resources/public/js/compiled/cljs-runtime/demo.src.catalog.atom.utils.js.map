{"version":3,"sources":["demo/src/catalog/atom/utils.cljs"],"mappings":"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","names":["p__58598","vec__58599","cljs.core.nth","demo.src.catalog.atom.utils/chart-config","config","data","panel","tab","data-panel","config-panel","data-or-config","bh-ui.atom.bhui.navbar/navbar","re-com.core/scroller","woolybear.packs.tab-panel/tab-panel","woolybear.packs.tab-panel/sub-panel","demo.src.catalog.atom.utils/config-display","chart-events","component","re-com.core/h-box","js/goog.DEBUG","woolybear.ad.layout/centered","var_args","args__4870__auto__","len__4864__auto__","i__4865__auto__","argseq__4871__auto__","cljs.core/IndexedSeq","demo.src.catalog.atom.utils/configurable-demo","seq58602","G__58603","cljs.core/first","cljs.core/next","self__4851__auto__","name","children","vec__58604","vec__58607","notes","cljs.core/rest","src","js/shadow.js.shim.module$react_markdown","woolybear.ad.containers/spoiler","woolybear.ad.utils/code-block","clojure.string/triml","woolybear.ad.utils/pps","demo.src.catalog.atom.utils/component-example","p__58611","map__58612","cljs.core/--destructure-map","cljs.core.get","seq58610","self__4852__auto__","cljs.core/seq","title","description","component-id","source-code","extra-classes","params","bh-ui.utils/init-container","input-params","cljs.core.dissoc","paramed-component","cljs.core.reduce","cljs.core/into","G__58613","G__58614","G__58615","G__58616","woolybear.ad.utils/demo","or__4253__auto__","demo.src.catalog.atom.utils/example","p__58618","map__58619","seq58617","container-id","component-panel","bh-ui.utils/init-container-locals","config-key","cljs.core.keyword","data-key","tab-panel","selected-tab","demo.src.catalog.atom.utils.configurable_demo"],"sourcesContent":["(ns demo.src.catalog.atom.utils\n  \"\n  Misc utilities for rendering demonstrations in the RCCTS demo.src.catalog, including\n  a utility for pop-up source code blocks.\n  \"\n  (:require [bh-ui.atom.bhui.navbar :as navbar]\n            [bh-ui.utils :as ui-utils]\n            [clojure.string :as string]\n            [re-com.core :as rc]\n            [\"react-markdown\" :as ReactMarkdown]\n            [woolybear.ad.utils :as ad-utils]\n            [woolybear.ad.utils :as acu]\n            [woolybear.ad.containers :as containers]\n            [woolybear.ad.layout :as layout]\n            [woolybear.packs.tab-panel :as tab-panel]))\n\n\n(defn- chart-config [[config data panel tab] data-panel config-panel]\n  ;(log/info \"chart-config\" config data panel tab)\n  (let [data-or-config [[config \"config\"]\n                        [data \"data\"]]]\n    [:div.chart-config {:style {:width \"100%\" :height \"100%\"}}\n     [navbar/navbar data-or-config [panel]]\n\n     [rc/scroller\n      :v-scroll :auto\n      :height \"500px\"\n      :child [tab-panel/tab-panel {:extra-classes             :is-fluid\n                                   :subscribe-to-selected-tab [tab]}\n\n              [tab-panel/sub-panel {:panel-id config}\n               config-panel]\n\n              [tab-panel/sub-panel {:panel-id data}\n               data-panel]]]]))\n\n\n(defn- config-display\n  \"this is the workhorse function. It build a side-by-side UI with the config to the left\n  and the component to the right. The user can change values in the config (checkboxes,\n  sliders, etc.) and the component will update on the fly.\n\n  ---\n\n  - component : (hiccup) the UI component we want to demonstrate for the user\n  - config : (hiccup) a UI component that provides options to the User for changing the config\n  of the corresponding UI component\n\n  > See also:\n  >\n  > [Re-com](https://github.com/Day8/re-com)\n  > [re-com demo](https://re-com.day8.com.au/#/h-box)\n  > [demo source](https://github.com/day8/re-com/blob/master/src/re_demo/h_box.cljs)\n  \"\n  [chart-events data-panel config-panel component]\n  ;(log/info \"config-display\" data)\n  [:div.demo-display\n   [rc/h-box :src (rc/at)\n    :width \"100%\"\n    :height \"100%\"\n    ;:size \"auto\"\n    :align :center\n    :children [[layout/centered {:extra-classes :is-one-third}\n                [chart-config chart-events data-panel config-panel]]\n               [layout/centered {:extra-classes :is-one-third}\n                component]]]])\n\n\n(defn configurable-demo\n  \"provides a complex UI, similar to the basic Woolybear\n  \"\n  [name & children]\n  (let [[notes children] (if (string? (first children))\n                           [(first children) (rest children)]\n                           [nil children])\n        [chart-events data-panel config-panel component src] children]\n\n    [:div.demo-container\n     [:div.demo-name name]\n     (if notes\n       [:> ReactMarkdown {:source notes}]\n       \"\")\n     [config-display chart-events data-panel config-panel component]\n     [containers/spoiler {:show-label \"Show Code\"\n                          :hide-label \"Hide Code\"}\n      [ad-utils/code-block (string/triml (ad-utils/pps src))]]]))\n\n\n\n(defn component-example [& {:keys [title\n                                   description\n                                   component\n                                   component-id\n                                   source-code\n                                   extra-classes] :as params}]\n\n  (ui-utils/init-container component-id)\n\n  (let [input-params      (dissoc params :title :sample-data :description :extra-classes :source-code :component)\n        paramed-component (reduce into [component] (seq input-params))]\n\n    ;(log/info \"component-example\" params\n    ;\"////\" input-params\n    ;\"////\" paramed-component\n\n    (acu/demo\n      title\n      description\n      [layout/centered (or extra-classes {})\n       ;;\n       ;; NOTE: the :height MUST be specified here since the ResponsiveContainer down in bowels of the chart needs a height\n       ;; in order to actually draw the Recharts components. just saying \"100%\" doesn't work, since the\n       ;; that really means \"be as big as you need\" and ResponsiveContainer then doesn't know what to do.\n       ;;\n       [:div.component-example {:style {:width \"100%\" :height \"700px\"}}\n        paramed-component]]\n\n      source-code)))\n\n\n(defn example [& {:keys [title container-id description\n                         data config\n                         data-panel config-panel component-panel\n                         source-code] :as params}]\n\n  ;(log/info \"example\" params)\n\n  (ui-utils/init-container-locals container-id config)\n\n  (let [config-key   (keyword container-id \"config\")\n        data-key     (keyword container-id \"data\")\n        tab-panel    (keyword container-id \"tab-panel\")\n        selected-tab (keyword container-id \"tab-panel.value\")]\n\n    (configurable-demo\n      title\n      description\n      [config-key data-key tab-panel selected-tab]\n      [data-panel data]\n      [config-panel data container-id]\n      ;[:div.configurable-demo-component {:style {:width \"100%\" :height \"100%\"}} ;{:width \"1500px\" :height \"700px\"}}\n      [component-panel data container-id]\n      source-code)))\n"]}